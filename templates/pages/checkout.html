{% load static %}
<!doctype html>
<html lang="en">

<head>
  <title>Order Page</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <!-- Css link -->
  <!-- <link rel="stylesheet" href="/css/style.css"> -->
  <link rel="stylesheet" href="{% static 'css/checkout.css' %}">
  <link rel="shortcut icon" href="{% static 'images/DXD_synergy_logo.jpg' %}" type="image/x-icon">

  <!-- <link rel="stylesheet" href="/css/myAccount.css"> -->
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <main>
    {% with total_items=cart|length %}
    {% if total_items > 0 %}
    <nav>
      <div class="synergy_logo">
        <a href="{% url 'dxd:home' %}">
          <img src="{% static 'images/DXD_synergy_logo.jpg' %}" alt="">
        </a>
      </div>
      <div class="checkout">
        <h3 class="">Order Confirmation Page</h3>
      </div>
    </nav>
    
    <section class="row section justify-content-center">

      <div class="col-md-6 col-lg-6 delivery_content">
       
        <div>
          <form class="bg-white px-5 py-4" action="{% url 'orders:order_create' %}" method="POST">
            {% csrf_token %}
            <div class="sign_up_with mb-4">
              <h4 class="mb-3">DELIVERY INFORMATION</h4>
            </div>
            <div class="form-group mb-3">
              <label for="exampleInputEmail1" class="font-weight-bold text-muted">FIRST NAME:</label>
              <input type="text" name="first_name" class="form-control w-md-75" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="" required>
            </div>
  
            <div class="form-group mb-3">
              <label for="exampleInputEmail1" class="font-weight-bold text-muted">LAST NAME:</label>
              <input type="text" name="last_name" class="form-control w-md-75" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="" required>
            </div>
  
            <div class="form-group mb-3">
              <label for="exampleInputEmail1" class="font-weight-bold d-md-flex text-muted">MOBILE:<small id="emailHelp"
                  class="form-text text-muted pl-md-3">(For delivery
                  updates ):</small> </label>
              <input type="number" name="phone" class="form-control w-md-75" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="" required>
            </div>

            <div class="form-group mb-3">
              <label for="exampleInputEmail1" class="font-weight-bold text-muted">E-MAIL:</label>
              <input type="email" name="email" class="form-control w-md-75" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="" required>
            </div>
  
            <div class="form-group mb-3">
              <label for="exampleInputEmail1" class="font-weight-bold text-muted">ADDRESS:</label>
              <input type="text" name="address" class="form-control w-md-75 mb-2" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="" required>
            </div>
  
            <div class="form-group mb-3">
              <label for="exampleInputEmail1" class="font-weight-bold text-muted">STATE:</label>
              <input type="text" name="state" class="form-control w-md-75" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="" required>
            </div>

            <div class="form-group">
              <label for="exampleInputEmail1" class="font-weight-bold text-muted">POSTCODE:</label>
              <input type="number" name="postal_code" class="form-control w-md-50" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="" required>
            </div>
  
            <div class="form-group">
              <label for="exampleInputEmail1" class="font-weight-bold text-muted">COUNTRY</label>
              <input type="text" name="country" class="form-control w-md-75" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="" required>
            </div>

            <label for="payments">Choose a Payment Option:</label>

              <select name="payment_option" id="payments">
                <option value="pay_on_delivery">Pay on delivery</option>
                <option value="paystack" selected>Paystack</option>
              </select>
  
  
              <div class="form-group pt-3">
                <button class="start_shopping_button btn btn-success" type="submit"><a>PLACE ORDER</a></button>
  
              </div>
  
              <h5 class="we_accept mt-3">WE ACCEPT:</h5>
              <div class="icons_and_images">
  
                <ul class="electronic_images d-flex">
                  <li class="checkout_visa"><img src="https://images.asos-media.com/navigation/visa-png" alt="">
                  </li>
                  <li class="checkout_mastercard"><img src="https://images.asos-media.com/navigation/mastercard-png"
                      alt="">
                  </li>
                  <!-- <li class="checkout_pay-pal"><img src="https://images.asos-media.com/navigation/pay-pal-png" alt="">
                  </li> -->
                  <li class="checkout_american-express"><img
                      src="https://images.asos-media.com/navigation/american-express-png" alt=""></li>
                  <li class="visa-electron_image2"><img src="https://images.asos-media.com/navigation/visa-electron-png"
                      alt=""></li>
                </ul>
              </div>
  
            </div>
  
          </form>
  
          <div class="w-75 mt-3 ">
            <p class="text-muted privacy_policy">
              By placing your order you agree to our <a href="{% url 'dxd:terms-conditions' %}">Terms and condition,</a><a href="{% url 'dxd:terms-conditions' %}"> Privacy</a> and
              <a href="{% url 'dxd:delivery-returns' %}">returns Policy.</a> You also consent
              to some of your data being stored by SYNERGY, which may be used to make future shopping experiences better
              for you.
            </p>
          </div>
  
        </div>
  
      </div>

      <div class="col-lg-4 col-md-6 description_content bg-white p-2">
        <div class="d-flex mb-0 justify-content-between mb-2 bg-white p-2">
          <h5>MY CART</h5>
          <p class="mb-0">Please confirm your items in cart!</p>
        </div>
        <hr class="mt-0">
        {% for item in cart %}
        {% with product=item.product %}
        <div class="mb-2 bg-white pl-2 pr-0">
          <div class="d-flex justify-content-between">
            <div class="w-100">
              <div class="d-flex bag_details">
                <a href="{{product.get_absolute_url}}"><div class="myBag_image mt-1"><img src="{{ product.photo_main.url }}" alt=""></div></a>
                <div class="w-100">
                  <h5><a class="text-decoration-none text-dark" href="{{product.get_absolute_url}}">{{ product.name }}</a></h5>
                  <p class="mb-0 text-muted">N{{ product.price|floatformat:2 }}</p>
                  <div class="d-flex justify-content-between mt-2">
                    <p class="pr-2"> Quantity: {{ item.quantity }}</p>
                    <p class="pr-2"> Colour: {{ product.color }}</p>
                   
                  </div>
                 
                </div>
                <form action="{% url 'cart:cart_remove' product.id %}" method="post">
                  <div>
                    {% csrf_token %}
                    <button class="border border-none mr-1 mt-1"><a class="bg-white px-1 py-0 text-danger" type="submit">X</a></button>
                    <!-- <i type="submit" class="fa fa-times pr-1" aria-hidden="true"></i> -->
                  </div>
                </form>
              </div>
<hr>
              {% endwith %}
              {% endfor %}
              
            </div>
          </div>
        </div>
        {% if cart.coupon %}
        <div class="d-flex justify-content-end sub_total mb-2 bg-white py-3 px-5">
          <br>
          <br>
          "{{ cart.coupon.code }}" offers ({{ cart.coupon.discount }}% off)
          <h5 class="pr-1">TOTAL</h5>
          <h5>N{{ cart.get_total_price_after_discount|floatformat:2  }}</h5>
        </div>
        {% else %}
        <div class="d-flex justify-content-end sub_total mb-2 bg-white py-3 px-5">
          <h5 class="pr-1">TOTAL</h5>
          <h5>N{{ cart.get_total_price|floatformat:2 }}</h5>
        </div>
        <a href="{% url 'dxd:home' %}">
          <input class="bg-info rounded border-0 text-white px-2 py-1" type="submit" value="Continue Shopping">
        </a>
        <br>
        <br>
        {% endif %}
        <p>Apply a coupon:</p>
      <form action="{% url 'coupons:apply' %}" method="post">
      {{ coupon_apply_form }}
      <input class="bg-info rounded border-0 text-white px-2 py-1" type="submit" value="Apply">
      {% csrf_token %}
      </form>

      </div>

    </section>
    {% else %}
      <!-- <div class="container text-justify">
        <div class="synergy_logo pb-5">
          <a href="{% url 'dxd:home' %}">
            <img src="{% static 'images/DXD_synergy_logo.jpg' %}" alt="">
          </a>
        </div>
        <div>
          <h3>Cart is empty.</h3>
          <p>You have not added any item to cart.</p>
        </div>
      </div> -->
      <div class="container h-100">
        <div class="row align-items-center h-100">
            <div class="col-6 mx-auto">
                <div class="card h-100 border-primary justify-content-center">
                    <div class="pl-3">
                      <div class="card-body text-center">
                        <h5 class="card-title">Empty Cart!</h5>
                        <p class="card-text">Please add item(s) into cart</p>
                        <a href="{% url 'dxd:home' %}" class="btn btn-primary">Continue shopping</a>
                      </div>
                    </div>
                </div>
            </div>
        </div>
      </div>
    {% endif %}
    {% endwith %}
   

  </main>














  <!-- <script>
    function toggle(source) {
      checkboxes = document.getElementsByName('foo');
      for (var checkbox in checkboxes)
        checkbox.checked = source.checked;
    }

    function toggle(source) {
      checkboxes = document.getElementsByName('foo');
      for (var i = 0, n = checkboxes.length; i < n; i++) {
        checkboxes[i].checked = source.checked;
      }
    }
  </script> -->




  <script src="{% static 'js/main.js' %}"></script>
  <script src="{% static 'js/checkout.js' %}"></script>
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
</body>

</html>